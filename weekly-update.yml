name: Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„Ù…ØªØ¬Ø±

on:
  schedule:
    - cron: '0 0 * * 1'  # ÙƒÙ„ ÙŠÙˆÙ… Ø¥Ø«Ù†ÙŠÙ† Ø§Ù„Ø³Ø§Ø¹Ø© 00:00
  workflow_dispatch:  # Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠØ¯ÙˆÙŠ

jobs:
  weekly-update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Ø¥Ø¹Ø¯Ø§Ø¯ Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      
      - name: ØªØ´ØºÙŠÙ„ Ø¨ÙˆØª Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
        run: python weekly_update.py
      
      - name: Ø±ÙØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        run: |
          git config --global user.name 'AI Bot'
          git config --global user.email 'bot@users.noreply.github.com'
          git add weekly_*.json *.log *.txt
          git commit -m "ğŸ¤– ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¨ÙˆØ¹ÙŠ - $(date +'%Y-%m-%d')" || exit 0
          git push
